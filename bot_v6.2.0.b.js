(()=>{const room=HBInit({roomName:"üëΩ My Haxball Room",public:!0,maxPlayers:12,noPlayer:!0}),po=(room.setTeamColors(1,60,16777215,[16748922,9720903,5188902]),room.setTeamColors(2,60,16777215,[8038911,4678292,2503759]),room.setTeamsLock(!0),room.setScoreLimit(3),room.setTimeLimit(5),room.setDefaultStadium("Hockey"),room.startGame(),{}),pa=[],data={l:{t:["atmin1","atmin2","atmin3","atmin4"],o:{"Ffe4B5dSKse7KGvcpFLtfJ-iBdrlf-QZlHXj4m906A8":{L:4,d:"uzay"},yRSV89_RH_EuFkgQy30TC66CdFoEAyjSj2TSQJxXHuY:{L:3,d:"asyab"},"5pgm2FE_DLX9BBv9d3G5yA6sF5OI6sEGyL--5GzOhCg":{L:3,d:"mert"},KyK9o6BZYeo6wsVgIAtPOiCaQsUI1FE862eeZwrRUZU:{L:3,d:"abc"}},bl_name:[],bl_namepart:[],bl_auth:[],bl_conn:[],i:!1,password:null,u:[],p:[],v:!1},k:{g:{url:"https://raw.githubusercontent.com/uzayyli/Haxball-Headless-Bot/main/example_maps.json",data:{}},_:null,$:null,M:"",A:{komutlar:"help","yardƒ±m":"help",sec:"security",sal:"setadminlevel",gm:"gamemode"}},P:{S:[4,4],F:1,T:0,K:!1,B:{id:0,team:0}}},util={N:e=>{let a=Math,l;var t=a.floor,r=a.random;for(a=e.length-1;0<a;a--)l=t(r()*(a+1)),[e[a],e[l]]=[e[l],e[a]]},I:(e,a=9999,l=0)=>{let t=parseFloat(e);return isNaN(t)||t<l?t=l:t>a&&(t=a),t},say:e=>{room.sendAnnouncement(e+"",null,9633550)},pm:(e,a,l)=>{room.sendAnnouncement("üí¨ "+(l?"(PM from "+l.name+") ":"")+e,a,10151397),l&&room.sendAnnouncement("üí¨ (PM to "+po[a].name+") "+e,l.id,10151397)},O:(e,a=1)=>{e="(‚≠ê"+a+") "+e;var l=pa,t=room.sendAnnouncement;let r,o;for(r=l.length-1;0<=r;r--)(o=l[r]).Y>=a&&t(e,o.id,16768768)},C:(e=null,a)=>{if(null===e||e.length<1)return null;if("#"===e[0])return po[parseInt(e.substring(1))];a=a||pa,e=e.toLocaleLowerCase();let l,t,r,o=null;for(l=a.length-1;0<=l;l--){if(t=a[l],(r=t.name.toLocaleLowerCase())===e)return t;r.includes(e)&&(o=t)}return o},mute:(e,a,l,t=null,r=!0)=>{e.log.G=0<l?a+6e4*l:0,r&&util.say(`üîï ${e.name} `+(0<l?l+" dakika susturuldu":"artƒ±k konu≈üabilir")+(t?` (${t})`:""))},q:(e,a)=>{e=e.help;if(e){const l=util.pm;e.forEach(e=>l(e,a))}},P:{D:l=>{try{var a=data.P;if(!a.F)return!1;const i=[[],[],[]];pa.forEach(e=>{var a=e.team;if(a<3){if(e.id===l.id)return!1;i[a].push(e)}});var t=a.S[0]-i[1].length,r=a.S[1]-i[2].length;if(t<=0&&r<=0)return!1;let e;if(t==r)if(a.K){if(!i[0].length)return!1;var o=i[0][0];a.B.id===o.id?(e=a.B.team,a.B.id=0):e=1+Math.floor(2*Math.random()),o.team=e,room.setPlayerTeam(o.id,e),e=3-e}else{var n=room.getScores();e=!n||0===(e=n.red-n.blue)?1+Math.floor(2*Math.random()):e<0?1:2}else e=t<r?2:1;return l.team=e,room.setPlayerTeam(l.id,e),!0}catch(e){console.log("err_addPlayer:"),console.log(e)}},H:l=>{try{var e=data.P,a=e.F,t=l.team;if(a&&0!==t&&3!==t){const s=[[],[],[]];pa.forEach(e=>{var a=e.team;a<3&&e.id!==l.id&&s[a].push(e)});var r=e.S[0]-s[1].length-(e.S[1]-s[2].length);if(0!=r){var o,n,i,u,m=Math.abs(r);if(1===m)s[0].length?((n=(o=s[0])[Math.floor(Math.random()*o.length)]).team=t,room.setPlayerTeam(n.id,t),e.B.id=0):e.K&&((u=(i=s[3-t])[Math.floor(Math.random()*i.length)]).team=0,room.setPlayerTeam(u.id,0),e.B.id=u.id,e.B.team=3-t);else{let e,a=Math.floor(m/2);var d=s[3-t];for(util.N(d);a--;)(e=d.pop()).team=t,room.setPlayerTeam(e.id,t)}}}}catch(e){console.log("err_removePlayer:"),console.log(e)}},j:(e,a=!0)=>{try{e=e||pa.filter(e=>0===e.team);const u=data.P,l=[[],[],[]];pa.forEach(e=>{var a=e.team;a<3&&l[a].push(e)}),a&&util.N(e);var r=[u.S[0]-l[1].length,u.S[1]-l[2].length],o=e.slice(0,Math.min(r[0]+r[1],l[0].length));let t=o.length;if(t){var n=room.setPlayerTeam,i=Math.sign;let e=r[0]-r[1],a=e<0?2:1,l;for(;t;)if((l=o[--t]).team=a,n(l.id,a),0===(e+=i(a-1.5))){if(1===t&&u.K)break;a=1+Math.floor(2*Math.random())}else a=0<e?1:2}}catch(e){console.log("err_addMultiplePlayers:"),console.log(e)}},J:e=>{try{var l=data.P;if(room.stopGame(),room.sendAnnouncement(`üèÜ Kƒ±rmƒ±zƒ± : ${e.red} - ${e.blue} : Mavi üèÜ`,null,e.red>e.blue?15035990:5671397),!l.F)return setTimeout(room.startGame,3e3);const n=[[],[],[]],i=e.red>e.blue?1:2;if(pa.forEach(e=>{var a=e.team;a<3&&n[a].push(e)}),1===l.F){var t=n[i];const u=3-i,m=room.setPlayerTeam;var r=n[u];if(r.forEach(e=>{e.team=0,m(e.id,0)}),0===l.T){util.N(t),t.slice(0,Math.ceil(t.length/2)).forEach(e=>{e.team=u,m(e.id,u)});var o=l.S[0]+l.S[1]-t.length;let a=n[0];if(a.length<o)util.N(r),a.push(...r.slice(0,o-a.length));else if(a.length>o){const d=po,s=room.getPlayerList().filter(e=>0===e.team);a=[],s.forEach(e=>{e=d[e.id];0===e.team&&a.push(e)}),a=a.slice(0,o)}util.P.j(a)}else{const c=po,f=room.getPlayerList().filter(e=>0===e.team);currentSpecs=[],f.forEach(e=>{e=c[e.id];0===e.team&&currentSpecs.push(e)}),currentSpecs.push(...r);var a=l.S[0]+l.S[1]-t.length;currentSpecs=currentSpecs.slice(0,a),util.P.j(currentSpecs)}}setTimeout(room.startGame,3e3)}catch(e){console.log("err_endGame:"),console.log(e)}}}},commands={eval:{f:(p,args)=>{eval(args.join(" "))},R:4,cd:5,U:!0,help:null},version:{f:(e,a)=>{util.pm("v6.2.0.b",e.id)},R:0,cd:5,U:!1,help:null},help:{f:(a,e)=>{const l=commands,t=util;e.length?(e=e[0],(e=l[e]||l[data.k.A[e]]).R>a.Y?t.pm("Bu komutu kullanma yetkiniz yok",a.id):t.q(e,a.id)):(t.pm("Komutlar: "+Object.keys(l).filter(e=>{e=l[e];return e.R<=a.Y&&!e.U}).join(", "),a.id),t.pm("Detaylƒ± bilgi i√ßin: .help [komutAdƒ±]",a.id))},R:0,cd:10,U:!1,help:null},say:{f:(e,a)=>{util.say("üí¨ "+e.name+": "+a.join(" "))},R:1,cd:5,U:!1,help:null},pm:{f:(e,a)=>{var l=util.C(a[0]);if(!l)return"noPlayer";util.pm(a.slice(1).join(" "),l.id,e)},R:5,cd:5,U:!1,help:null},admin:{f:(a,l)=>{var t=data.l.t,r=l[0];if("list"===r){if(a.Y<1)return"notAllowed";const n=util.pm;n("admin listesi :",a.id),void pa.filter(e=>0<e.Y&&e.Y<=a.Y).map(e=>`(#${e.id}) ${e.name} (L${e.Y})`).forEach(e=>{n(e,a.id)})}else{var o=!!l[1];let e;for(e=0;e<t.length;e++)if(r===t[e])return a.Y=e+1,room.setPlayerAdmin(a.id,!o),a.log.Z=0,util.O(a.name+` ${o?"-gizli- ":""}admin level `+(e+1),e+1);util.pm("Hatalƒ± ≈üifre",a.id)}},R:0,cd:10,U:!1,help:[".admin [password] [hidden = false]",".admin list (admin-only)"]},setadminlevel:{f:(e,a)=>{if(a.length<1)return"wrong";var l=util,t=l.C(a[0]);if(!t)return"noPlayer";var r=!!a[2];let o=a.length<2?Math.max(t.Y,1):l.I(a[1]);if(t.Y<4&&4<=o&&(o=3),!(e.id===t.id&&4<=t.Y)&&(o>e.Y||o<t.Y&&t.Y>e.Y))return"notAllowed";t.Y=o,room.setPlayerAdmin(t.id,0<o&&!r),util.O(`${t.name} ${r?"-gizli- ":""}admin level ${o} (${e.name})`,o)},R:2,cd:10,U:!1,help:[".sal [player] [level = 1] [hidden = false]"]},mute:{f:(a,e)=>{if(e.length<2)return"wrong";var l,t,r=e[0];if("all"!==r)return(r=util.C(r))?r.Y>=a.Y?"notAllowed":(t=(l=util).I(e[1],10),void l.mute(r,Date.now(),t,a.name,!0)):"noPlayer";{const o=util,n=Date.now(),i=o.mute,u=a.name,m=o.I(e[1],10);pa.filter(e=>e.Y<a.Y).forEach(e=>{i(e,n,m,u,!1)}),o.say(`üîï herkes ${0<m?m+" dakika susturuldu":"konu≈üabilir"} (${a.name})`)}},R:3,cd:5,U:!1,help:[".mute [player / all] [minutes]"]},afk:{f:(e,a)=>{var l=a[0];return"list"===l?util.pm("AFKs: "+pa.filter(e=>3===e.team).map(e=>e.name).join(", "),e.id):(a=a.length&&1<e.Y?util.C(l):e)?(room.setPlayerTeam(a.id,0),void(3===a.team?(util.P.D(a)||(a.team=0),util.say(a.name+" oyuna geri d√∂nd√º."+(e.id!==a.id?" ("+e.name+")":""))):(util.P.H(a),a.team=3,util.say(a.name+" AFK."+(e.id!==a.id?" ("+e.name+")":"")),a.id!==e.id&&room.sendAnnouncement("‚ö†Ô∏è "+a.name+", AFK olduƒüunuz tespit edildi. L√ºtfen oyuna geri d√∂nmek i√ßin .afk komutunu kullanƒ±n.",a.id,10151397,"bold",2)))):"noPlayer"},R:0,cd:30,U:!1,help:[".afk: toggles your AFK status",".afk [player]: toggles another player's AFK status (admin only)"]},spec:{f:(e,a)=>{a=a.length&&1<e.Y?util.C(a[0]):e;if(!a)return"noPlayer";util.P.H(a),a.team=0,room.setPlayerTeam(a.id,0),util.say(a.name+" speclendi"+(a.id!==e.id?" ("+e.name+")":""))},R:0,cd:10,U:!1,help:[".spec: puts you in spectators",".spec [player]: puts player in spectators (admin only)"]},gamemode:{f:(t,r)=>{var o=data.P;if(!r.length)return util.pm(`oyun modu: ${o.S[0]}v${o.S[1]} ${0===o.F?"manual":1===o.F?"auto":"captain"} ${0===o.T?"random":"YS"} (${o.K?"e≈üit takƒ±mlar":"herkes oyunda"})`,t.id);var n=r[0];if("manual"===n)o.F=0;else{var i=n.split("v"),u=i.filter(e=>0<e.length);let e,a;switch(u.length){case 0:return"wrong";case 1:if(e=a=parseInt(u[0]),isNaN(e))return"wrong";break;case 2:if(e=parseInt(i[0]),isNaN(e))return"wrong";if(a=parseInt(i[1]),isNaN(a))return"wrong"}e=Math.max(0,e),a=Math.max(0,a);var n=o.S,m=[n[0],n[1]],n=(n[0]=e,n[1]=a,e>=m[0]&&a>=m[1]?util.P.j():commands.mix.f(t),r[1]);"captain"===n&&util.pm("Captain mode not implemented yet",t.id),o.F=1;let l=r[2];l&&("ys"===(l=l.toLowerCase())||"ws"===l)?o.T=1:o.T=0;m=r[3];o.K="equal"===m}util.say(`‚öôÔ∏è (${t.name}) oyun modu: ${o.S[0]}v${o.S[1]} ${0===o.F?"manual":1===o.F?"auto":"captain"} ${0===o.T?"random":"YS"} (${o.K?"e≈üit takƒ±mlar":"herkes oyunda"})`)},R:2,cd:5,U:!1,help:[".gm [RvB / manual] [addMode = auto / captain] [mixMode = rand / YS] [equalTeams = FFA / equal] examples:",".gm manual",".gm 4v4",".gm 4v4 auto rand FFA",".gm 4v4 auto YS equal"]},maps:{f:(e,a)=>{const l=data.k.g;let t=l.url;if(3<e.Y&&a.length){if("fetch"===a[0]){if(a[1]&&a[1].length)l.url=t=a[1];else if(!t||!t.length)return util.pm("no JSON URL",e.id);fetch(l.url).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})}).then(function(e){l.data=e}).catch(e=>{console.log("no custom stadiums: "+e)}),util.O(e.name+" maplarƒ± fetchledi",4)}}else util.pm(Object.keys(l.data).join(", "),e.id)},R:1,cd:10,U:!1,help:[".maps: lists stadiums",".maps fetch or maps fetch [newUrl]: fetches map from JSON file (admin lvl. 3 only)"]},load:{f:(e,a)=>{if(!a.length)return"wrong";var l=data.k.g.data,t=a[0].toLowerCase(),r=Object.keys(l);let o,n,i=null;for(o=r.length-1;0<=o;o--){if((n=r[o].toLowerCase())===t){i=r[o];break}n.includes(t)&&(i=r[o])}if(!i)return util.pm("B√∂yle bir map yok",e.id);a=l[i];let u=a.hbs;"string"!=typeof u&&(u=a.hbs=JSON.stringify(u)),room.stopGame(),room.setCustomStadium(u),u=data.k.M=a.m&&a.m.length?a.m:null,util.say(`üèë ${e.name} loaded `+i),u&&util.say("‚ÑπÔ∏è "+u),room.startGame()},R:1,cd:10,U:!1,help:[".load [stadiumName]"]},motd:{f:(e,a)=>{var l,t=data.k;!!a.length?(l=a[0]).length&&"null"!==l&&"clear"!==l?(util.O(e.name+" set welcome message",2),util.say("‚ÑπÔ∏è "+(t.M=a.join(" ")))):(util.O(e.name+" cleared welcome message",2),t.M=null):!t.M||t.M.length<1?util.pm("welcome message is null",e.id):util.say("‚ÑπÔ∏è "+t.M)},R:2,cd:5,help:[".motd: prints welcome message",".motd [msg]: sets new welcome message"]},avatar:{f:(e,a)=>{if(a.length<2)return"wrong";let l=a[0];if("all"===l)l=pa;else{var t=util.C(l);if(!t)return"noPlayer";l=[t]}let r=a[1];"clear"===r?r=null:"default"===r&&(r="üéÉ");let o;for(o=l.length-1;0<=o;o--)room.setPlayerAvatar(l[o].id,r);1===l.length?util.O(r?`${e.name} set ${l[0].name}'s avatar to `+r:`${e.name} cleared ${l[0].name}'s avatar`,2):util.O(r?e.name+" set all avatars to "+r:e.name+" cleared all avatars",2)},R:2,cd:10,U:!1,help:[".avatar [player]/all default/clear/[newAvatar]"]},mix:{f:(e,a)=>{data.P.B.id=0,pa.forEach(e=>{e.team<3&&0<e.team&&(e.team=0)}),util.P.j(),util.say(e.name+" takƒ±mlarƒ± kardƒ±")},R:1,cd:5,U:!1,help:null},remix:{f:(e,a)=>{room.stopGame(),commands.mix.f(e),room.startGame(),util.say(e.name+" takƒ±mlarƒ± kardƒ±")},R:1,cd:5,U:!1,help:null},restart:{f:(e,a)=>{room.stopGame(),room.startGame(),util.say(e.name+" oyunu yeniden ba≈ülattƒ±")},R:1,cd:5,U:!1,help:null},bb:{f:(e,a)=>{room.kickPlayer(e.id,"Yine bekleriz!",!1)},R:0,cd:5,U:!1,help:null},kick:{f:(e,a)=>{var l;return a.length?(l=util.C(a[0]))?l.Y>e.Y||l.id===e.id?"notAllowed":void room.kickPlayer(l.id,""+e.name+(1<a.length?": "+a.slice(1,a.length).join(" "):""),!1):"noPlayer":"wrong"},R:2,cd:5,U:!1,help:[".kick [player] [reason]"]},ban:{f:(e,a)=>{var l;return a.length?(l=util.C(a[0]))?l.Y>e.Y||l.id===e.id?"notAllowed":void room.kickPlayer(l.id,""+e.name+(1<a.length?": "+a.slice(1,a.length).join(" "):""),!0):"noPlayer":"wrong"},R:2,cd:5,U:!1,help:[".ban [player] [reason]"]},clearban:{f:(e,a)=>{if(a.length<1)return"wrong";var l=data.l.p,t=room.clearBan;let r,o=0;if("all"===a[0])for(r=l.length-1;0<=r;r--)t(l[r].id),l.splice(r,1),o++;else{var n=a[0],i=a[1];if(-1===["id","name"].indexOf(n))return"wrong";for(r=l.length-1;0<=r;r--)l[r][n].toString()===i&&(t(l[r].id),l.splice(r,1),o++)}o&&util.O(`${o} ban temizlendi (${e.name})`,3)},R:3,cd:10,U:!1,help:[".clearban all",".clearban id 123",".clearban name abc"]},security:{f:(a,e)=>{if(!e.length)return"wrong";var l,t=data.l,r=util.O,o=e[0];let n,i;switch(o){case"recentbans":n=t.p;break;case"recentplayers":if(a.Y<4)return"notAllowed";n=t.u;break;case"captcha":return e.length<2?"wrong":(i=-1!==["on","1","true"].indexOf(e[1]),room.setRequireRecaptcha(i),r(`Captcha is ${i?"on":"off"} (${a.name})`,3));case"multilogin":return e.length<2?"wrong":a.Y<4?"notAllowed":(i=-1!==["on","1","true"].indexOf(e[1]),r(`allowMultiLogin (from new tabs) is ${(t.v=i)?"on":"off"} (${a.name})`,3));case"password":return e.length<2?"wrong":(l=e[1],l=-1!==["off","null","clear",""].indexOf(l)?null:"random"===l?Math.floor(1e11*Math.random()).toString(16):l,room.setPassword(l),r(a.name+" "+(l?"set room password: "+l:"cleared room password"),3));default:return"wrong"}let u,m;1<e.length&&(u=e[1]),2<e.length&&(m=e[2]),i=u&&m?n.filter(e=>e[u]===m):n.slice(-(u||5)),"recentplayers"===o&&(i=i.map(e=>`(#${e.id}) ${e.name} @${e.conn} | `+e.auth)),m=util.pm,i.forEach(e=>{m(e,a.id)})},R:3,cd:10,U:!1,help:[".sec [recentbans/recentplayers] [maxNum / key] [value]",".sec captcha/password/multilogin [on/off/value]"]},blacklist:{f:(e,a)=>{var l=a[0],t=data.l;if(-1===["name","namepart","auth","conn"].indexOf(l))return"wrong";let r=a[1];if(!r)return util.pm("bl_"+l+": "+JSON.stringify(t["bl_"+l]),e.id);"clear"===r?(t["bl_"+l]=[],util.O(`cleared ${"bl_"+l} (${e.name})`,3)):("namepart"===l&&(r=r.toLocaleLowerCase()),t["bl_"+l].push(r),util.O(`added '${r}' to ${"bl_"+l} (${e.name})`))},R:3,cd:5,U:!1,help:[".blacklist name/namepart/auth/conn [query]/clear"]}};room.onGamePause=e=>{e&&(data.k.$=setTimeout(()=>{room.pauseGame(!1)},3e4))},room.onGameUnpause=e=>{e&&clearTimeout(data.k.$)},room.onGameStart=()=>{clearTimeout(data.k._),clearTimeout(data.k.$)},room.onGameStop=e=>{e&&(clearTimeout(data.k._),clearTimeout(data.k.$))},room.onTeamVictory=e=>{data.k._=setTimeout(()=>{util.P.J(e)},3e3)},room.onStadiumChange=(e,a)=>{a&&(data.k.M=null)},room.onPlayerTeamChange=(e,a)=>{var l;if(a)return 3===(l=po[e.id]).team&&0<e.team?(room.setPlayerTeam(e.id,0),util.pm(e.name+" AFK!",a.id)):void(l.team=e.team)},room.onPlayerAdminChange=(e,a)=>{try{if(a){var l=po[e.id],t=po[a.id];if(!e.admin&&l.Y>t.Y)return util.O(a.name+" is not authorized to demote "+e.name,t.Y),room.setPlayerAdmin(e.id,!0);l.Y=e.admin?Math.max(1,l.Y):0,util.O(`${e.name} ${l.Y<1?"adminliƒüi alƒ±ndƒ±":"admin level "+l.Y} (${a.name})`,t.Y)}}catch(e){console.log("err_onAdminChange:"),console.log(e)}},room.onPlayerKicked=(a,e,l,t)=>{t=t||{id:0,name:"bot"},l&&((r=data.l.p).push({id:a.id,name:a.name,reason:e,X:t.id,V:t.name}),30<r.length)&&r.splice(0,1);var r,e=po[t.id];e&&e.Y<2&&(l&&(room.clearBan(a.id),data.l.p=data.l.p.filter(e=>e.id!==a.id),util.say(a.name+" ban kaldƒ±rƒ±ldƒ±")),room.kickPlayer(e.id,"Oyuncu kickleme yetkiniz yok",!1))},room.onPlayerJoin=e=>{try{const d=e.id,s=e.name,c=e.auth,f=e.conn;{var r,o=s.toLocaleLowerCase();let e,a=pa;for(e=a.length-1;0<=e;e--)if(a[e].name.toLocaleLowerCase()===o)return room.kickPlayer(d,"Odada aynƒ± adlƒ± bir oyuncu var.",!1);let l=!1,t=data.l;if(!t.v)for(e=a.length-1;0<=e;e--)if((r=a[e].log).auth===c||r.conn===f)return room.kickPlayer(d,"√áoklu giri≈ü ("+a[e].name+")",!1);for(a=t.bl_name,e=a.length-1;0<=e;e--)if(a[e]===s){l=!0;break}if(!l)for(a=t.bl_namepart,e=a.length-1;0<=e;e--)if(o.includes(a[e])){l=!0;break}if(!l)for(a=t.bl_auth,e=a.length-1;0<=e;e--)if(a[e]===c){l=!0;break}if(!l)for(a=t.bl_conn,e=a.length-1;0<=e;e--)if(a[e]===f){l=!0;break}if(l)return room.kickPlayer(d,"blacklist",!0)}var a,l=Date.now(),t={id:d,name:s,team:0,Y:0,log:{G:-(l+1e4),W:0,ee:0,Z:l+5e3,auth:c,conn:f}},n=(po[d]=t,pa.push(t),data.l.u),i=n.find(e=>e.conn===f||e.auth===c),u=(i&&(0<i.G&&(t.log.G=i.G),i.Z>t.log.Z&&(t.log.Z=i.Z),i.name!==s)&&util.O(s+" √∂nceki adƒ±: "+i.name,1),n.push({id:d,name:s,auth:c,conn:f,G:t.log.G,Z:t.log.Z}),30<n.length&&n.splice(0,1),data.k.M),m=(u&&u.length&&util.pm("‚ÑπÔ∏è "+u,d),util.P.D(t),data.l.o[c]);if(m)return a=m.L,t.Y=a,t.log.Z=0,t.log.G=0,util.O(t.name+" kayƒ±tlƒ± admin level "+a,a)}catch(e){console.log("err_onPlayerJoin:"),console.log(e)}},room.onPlayerLeave=e=>{try{const r=e.id,o=po[r];if(o){delete po[r];{let e,a=pa;for(e=a.length-1;0<=e;e--)if(a[e].id===r){a.splice(e,1);break}}var a=data.l.u,l=a.find(e=>e.id===r),t=o.log;l?(l.G=t.G,l.Z=t.Z):(a.push({id:r,name:o.name,auth:t.auth,conn:t.conn,G:t.G,Z:t.Z}),30<a.length&&a.splice(0,1)),util.P.H(o)}}catch(e){console.log("err_onPlayerLeave:"),console.log(e)}},room.onPlayerChat=(l,t)=>{var r=(l=po[l.id]).log,o=Date.now();if(l.Y<1){let e,a=r.G;if(a<0&&(-a<o?r.G=0:15<t.length&&(a=r.G=-a)),a>o)return util.pm("≈ûu anda yazƒ± yazamazsƒ±nƒ±z.",l.id),!1;if(5e3<(e=o-r.W))r.ee=0;else if(e<1100&&1<++r.ee)return r.ee=0,util.mute(l,o,1,"spam"),!1;r.W=o}var e,a,n,i,u,m,d=t[0];if(("."===d||"!"===d)&&2<t.length&&"."!==t[1])try{return util.O(l.name+": "+t,5),r.Z>=o?util.pm("L√ºtfen komutlarƒ± tekrar kullanmak i√ßin biraz bekleyin",l.id):(a=(e=t.substring(1).split(" "))[0].toLowerCase(),(n=commands[a]||commands[data.k.A[a]])?n.R>l.Y?util.pm("Bu komutu kullanmak i√ßin yetkiniz yok",l.id):(l.Y<4&&(r.Z=o+1e3*(n.cd||5)),(i=n.f(l,e.slice(1)))&&(u=util.pm,m=l.id,"wrong"===i?(u("Yanlƒ±≈ü arg√ºman sayƒ±sƒ±. Doƒüru kullanƒ±m:",m),util.q(n,m)):"noPlayer"===i?u("B√∂yle bir oyuncu yok. L√ºtfen oyuncu adƒ±nƒ±n bir kƒ±smƒ±nƒ± ya da ID'sini #123 ≈üeklinde girin",m):"notAllowed"===i&&u("Bu eylem i√ßin yetkiniz yok",m))):util.pm("B√∂yle bir komut yok: "+a,l.id)),!1}catch(e){return util.O(l.name+", ["+e.name+"] "+e.message+" @"+e.lineNumber+": "+t,l.Y),!1}},commands.maps.f({name:"bot",Y:4},["fetch"])})();
